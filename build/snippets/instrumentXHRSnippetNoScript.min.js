!function(a){if(a.XMLHttpRequest&&(new XMLHttpRequest).addEventListener){var b,c=document.createElement("A"),d=XMLHttpRequest,e=[],f=["uninitialized","open","responseStart","domInteractive","responseEnd"];a.BOOMR=a.BOOMR||{};BOOMR.xhr={stop:function(c){b=c;a.XMLHttpRequest=d;delete BOOMR.xhr;setTimeout(function(){e=[]});return e}};var g=function(){try{if("performance"in a)return function(){return Math.round(a.performance.now()+performance.timing.navigationStart)}}catch(b){}return Date.now||function(){return(new Date).getTime()}}();a.XMLHttpRequest=function(){var h=new d,i=h.open;h.open=function(d,j,k){function l(){if(!n.timing.loadEventEnd){n.timing.loadEventEnd=g();if("performance"in a&&a.performance&&"function"==typeof a.performance.getEntriesByName){var c=a.performance.getEntriesByName(n.url),d=c&&c.length&&c[c.length-1];if(d){var f=a.performance.timing.navigationStart;0!==d.responseEnd&&(n.timing.responseEnd=Math.round(f+d.responseEnd));0!==d.responseStart&&(n.timing.responseStart=Math.round(f+d.responseStart));0!==d.startTime&&(n.timing.requestStart=Math.round(f+d.startTime))}}b?b(n):e.push(n)}}function m(a,b){h.addEventListener(a,function(){if("readystatechange"===a){n.timing[f[h.readyState]]=g();4===h.readyState&&l()}else{n.status=void 0===b?h.status:b;l()}},!1)}c.href=j;var n={timing:{},url:c.href,method:d};!0===k?m("readystatechange"):n.synchronous=!0;m("load");m("timeout",-1001);m("error",-998);m("abort",-999);try{i.apply(h,arguments);var o=h.send;h.send=function(){n.timing.requestStart=g();o.apply(h,arguments)}}catch(p){n.status=-997;l()}};return h}}}(window);